# Список кухонь
cuisines = {
    "Итальянская кухня": 0,
    "Средиземноморская кухня": 0,
    "Американская кухня": 0,
    "Европейская кухня": 0,
    "Французская кухня": 0,
    "Кавказская кухня": 0,
    "Паназиатская кухня": 0,
    "Рыбная кухня": 0,
    "Азиатская кухня": 0,
    "Японская кухня": 0,
    "Китайская кухня": 0,
    "Греческая кухня": 0,
    "Корейская кухня": 0,
    "Восточная кухня": 0,
    "Авторская кухня": 0,
    "Русская кухня": 0,
    "Домашняя кухня": 0,
}

# Вопросы и варианты ответов
questions = [
    {
        "question": "Какой тип блюд вы предпочитаете?",
        "options": {
            "1": {"Легкие и свежие": ["Средиземноморская кухня", "Греческая кухня", "Японская кухня"]},
            "2": {"Сытные и мясные": ["Американская кухня", "Кавказская кухня", "Русская кухня"]},
            "3": {"Острые и пряные": ["Корейская кухня", "Паназиатская кухня", "Восточная кухня"]},
            "4": {"Универсальные": ["Итальянская кухня", "Европейская кухня", "Домашняя кухня"]},
            "5": {"Пропустить": []},  # Новый вариант "Пропустить"
        },
        "follow_up": {
            "2": {
                "question": "Какое мясо вы предпочитаете?",
                "options": {
                    "1": {"Говядина": ["Американская кухня", "Кавказская кухня"]},
                    "2": {"Свинина": ["Китайская кухня", "Русская кухня"]},
                    "3": {"Баранина": ["Кавказская кухня", "Восточная кухня"]},
                    "4": {"Пропустить": []},  # Новый вариант "Пропустить"
                },
            },
            "4": {
                "question": "Как вы относитесь к сладким блюдам?",
                "options": {
                    "1": {"Обожаю десерты": ["Французская кухня", "Авторская кухня"]},
                    "2": {"Иногда ем сладкое": ["Европейская кухня", "Итальянская кухня"]},
                    "3": {"Не люблю сладкое": ["Японская кухня", "Корейская кухня"]},
                    "4": {"Пропустить": []},  # Новый вариант "Пропустить"
                },
            },
        },
    },
    {
        "question": "Как вы относитесь к экспериментам в еде?",
        "options": {
            "1": {"Люблю пробовать новое и необычное": ["Авторская кухня", "Паназиатская кухня", "Восточная кухня"]},
            "2": {"Предпочитаю знакомые и проверенные блюда": ["Домашняя кухня", "Русская кухня", "Европейская кухня"]},
            "3": {"Иногда могу попробовать что-то экзотическое": ["Японская кухня", "Китайская кухня", "Греческая кухня"]},
            "4": {"Пропустить": []},  # Новый вариант "Пропустить"
        },
    },
    {
        "question": "Какой тип кулинарной обработки вам ближе?",
        "options": {
            "1": {"Минимальная обработка ": ["Японская кухня", "Средиземноморская кухня", "Рыбная кухня"]},
            "2": {"Традиционная": ["Русская кухня", "Европейская кухня", "Домашняя кухня"]},
            "3": {"Сложные техники": ["Авторская кухня", "Французская кухня", "Корейская кухня"]},
            "4": {"Пропустить": []},  # Новый вариант "Пропустить"
        },
    },
    {
        "question": "Как вы относитесь к морепродуктам?",
        "options": {
            "1": {"Обожаю, это основа моего рациона": ["Рыбная кухня", "Японская кухня", "Средиземноморская кухня"]},
            "2": {"Иногда ем, но не часто": ["Греческая кухня", "Европейская кухня", "Итальянская кухня"]},
            "3": {"Не люблю или не ем": ["Американская кухня", "Кавказская кухня", "Русская кухня"]},
            "4": {"Пропустить": []},  # Новый вариант "Пропустить"
        },
    },
]

# Функция для проведения опроса
def conduct_quiz(questions, cuisines):
    for q in questions:
        print(q["question"])
        for key, value in q["options"].items():
            for option, cuisines_list in value.items():
                print(f"{key}. {option}")
        answer = input("Введите номер ответа: ")
        if answer in q["options"]:
            # Проверка на "Пропустить" для основного вопроса
            if answer == "5":  # Только для основного вопроса
                print("Вы пропустили вопрос.\n")
                continue  # Переходим к следующему вопросу
            selected_cuisines = list(q["options"][answer].values())[0]
            for cuisine in selected_cuisines:
                cuisines[cuisine] += 1
        # Проверка на уточняющий вопрос
        if "follow_up" in q and answer in q["follow_up"]:
            follow_up = q["follow_up"][answer]
            print(follow_up["question"])
            for key, value in follow_up["options"].items():
                for option, cuisines_list in value.items():
                    print(f"{key}. {option}")
            follow_up_answer = input("Введите номер ответа: ")
            if follow_up_answer in follow_up["options"]:
                # Проверка на "Пропустить" для уточняющего вопроса
                if follow_up_answer == "4":  # Только для уточняющего вопроса
                    print("Вы пропустили уточняющий вопрос.\n")
                    continue  # Переходим к следующему вопросу
                selected_cuisines = list(follow_up["options"][follow_up_answer].values())[0]
                for cuisine in selected_cuisines:
                    cuisines[cuisine] += 0.5  # Вес уточняющего вопроса теперь равен 0,5
        print()

# Функция для вывода результатов
def show_results(cuisines):
    print("\nРезультаты опроса:")
    sorted_cuisines = sorted(cuisines.items(), key=lambda x: x[1], reverse=True)
    for cuisine, score in sorted_cuisines:
        if score > 0:
            print(f"{cuisine}: {score} баллов")

# Запуск опроса
conduct_quiz(questions, cuisines)
show_results(cuisines)